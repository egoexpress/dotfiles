#!/usr/bin/env zsh

if [ -r /etc/redhat-release ]
then
  OS=redhat
  function install_tool() {
    brew install $1
  }
elif [ -r /etc/debian_version ]
then
  OS=debian
  function install_tool() {
    sudo apt-get -yqq install $1
  }
else
  OS=unknown
  function install_tool() {
    echo "No method defined to install $1"
  }
fi

# find the installers and run them iteratively
for installer in $HOME/.dotfiles/**/install.sh(.); do
  . ${installer}
done
